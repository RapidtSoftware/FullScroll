!function(l){l.FullScroll=function(){function e(l){for(var e=0;a>e;e++){var t=[e,i[e]],r=l.apply(i[e],t);if(r===!1)break}return i}function t(){var l=f+1;return l==a&&(l=0),l}function r(){var l=f-1;return-1==l&&(l=a-1),l}function n(l,t){if("undefined"==typeof t)var t=!0;if("number"==typeof l){var r=function(l){that.classList.remove(l)};return r("fullscroll-reveal-next"),r("fullscroll-reveal-previous"),r("fullscroll-hide"),t&&(r("fullscroll-show"),r("fullscroll-show-next"),r("fullscroll-show-previous")),i}return e(function(){var l=this,e=function(e){l.classList.remove(e)};e("fullscroll-reveal-next"),e("fullscroll-reveal-previous"),e("fullscroll-hide"),t&&(e("fullscroll-show"),e("fullscroll-show-next"),e("fullscroll-show-previous"))}),i}function o(l,e){if(!h&&!e&&v.length>1)return!1;if(n(!1,!1),"next"===l||1===l){var o=i[t()];o.classList.add("fullscroll-reveal-next")}if("previous"===l||-1===l||"prev"===l){var s=i[r()];s.classList.add("fullscroll-reveal-previous")}return i}function s(e){if(!h)return v.push(e),!1;h=!1,l.setTimeout(function(){h=!0,v.length&&(s(v.shift()),v.length&&("next"==v[0]?o("next","force"):o("previous","force")))},1e3);var u;return n(),"next"===e&&(i[f].classList.add("fullscroll-hide"),u=i[t()],d.current=t(),f=t(),u.classList.add("fullscroll-show-next"),u.dataset.fullscrollTitle?document.title=u.dataset.fullscrollTitle:document.title=p,c.onChange.call(d,u,e)),("previous"===e||"prev"===e)&&(i[f].classList.add("fullscroll-hide"),u=i[r()],d.current=r(),f=r(),u.classList.add("fullscroll-show-previous"),u.dataset.fullscrollTitle?document.title=u.dataset.fullscrollTitle:document.title=p,c.onChange.call(d,u,e)),"number"==typeof e&&(i[f].classList.add("fullscroll-hide"),u=i[e],d.current=e,f=e,u.classList.add("fullscroll-show"),u.dataset.fullscrollTitle?document.title=u.dataset.fullscrollTitle:document.title=p,c.onChange.call(d,u,e)),i}var u=function(l,e){for(var t in l)l.hasOwnProperty(t)&&(e[t]=l[t]);var r=e;return r},c={selector:".fullscroll",onChange:function(){}};1==arguments.length&&"object"==typeof arguments[0]&&(c=u(arguments[0],c));var i=document.querySelectorAll(c.selector),a=i.length,f=0,d={"goto":function(l){return s(l),this},next:function(){return s("next"),this},previous:function(){return s("previous"),this},prev:function(){return s("previous"),this},current:f},v=[],h=!0,p=document.title;return s(f),e(function(l){this.dataset.fullscroll=l}),document.addEventListener("keydown",function(l){var e=l.which;38==e&&o("next"),40==e&&o("previous")},!1),document.addEventListener("keyup",function(l){var e=l.which;38==e&&s("next"),40==e&&s("previous")},!1),d}}(window);
